<div class="w-full mx-auto p-2 bg-green-700">
  <div class="flex items-center justify-between mb-6">
    <h2 class="text-3xl font-bold text-gray-900 pt-9 pl-6 mb-3">Lista de Usuarios</h2>
    <div class="flex items-center gap-4 ">
      <button class="cursor-pointer mr-9 bg-gray-400 rounded-2xl p-3" routerLink="/dashboard" >
        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-6">
          <path stroke-linecap="round" stroke-linejoin="round" d="M9 15 3 9m0 0 6-6M3 9h12a6 6 0 0 1 0 12h-3" />
        </svg>
      </button>
    </div>
  </div>
</div>
<div class="grid grid-cols-2">
  <div class=" shadow-md overflow-hidden">
      <table class="min-w-full divide-y divide-gray-200">
        <thead class="bg-green-600">
          <tr>
            <th class="px-6 py-3 text-left text-xs font-medium text-white uppercase tracking-wider">Nombre</th>
            <th class="px-6 py-3 text-left text-xs font-medium text-white uppercase tracking-wider">Email</th>
            <th class="px-6 py-3 text-left text-xs font-medium text-white uppercase tracking-wider">Rol</th>
            <th class="px-6 py-3 text-left text-xs font-medium text-white uppercase tracking-wider">Acciones</th>
          </tr>
        </thead>
        <tbody class="bg-gray-400 divide-y divide-gray-200">
          @for(user of allUsers; track user._id){
            <tr class="hover:bg-gray-300 transition-colors">
              <td class="px-6 py-4 whitespace-nowrap text-sm ">{{ user.displayName }}</td>
              <td class="px-6 py-4 whitespace-nowrap text-sm ">{{ user.email }}</td>
              <td class="px-6 py-4 whitespace-nowrap">
                <span class="px-2 py-1 text-xs font-semibold rounded-full bg-blue-100 text-blue-800">
                  {{ user.role }}
                </span>
              </td>
              <td class="px-6 py-4 whitespace-nowrap text-sm">
                <button class="mr-3 items-center justify-center w-20 h-10 rounded-2xl bg-zinc-100 dark:bg-green-500 hover:bg-green-600 text-black font-black text-xs disabled:cursor-not-allowed cursor-pointer">Editar</button>
                <button class="items-center justify-center w-20 h-10 rounded-2xl bg-zinc-100 dark:bg-red-500 hover:bg-red-600 text-black font-black text-xs disabled:cursor-not-allowed cursor-pointer" (click)="deleteUser(user._id)">Eliminar</button>
              </td>
            </tr>
          }
        </tbody>
      </table>
  </div>
  <div class=" flex items-start justify-center p-4 pt-5">
    <div class="max-w-md w-full">
      <form (ngSubmit)="handleSubmit()" [formGroup]="registerForm"
        class="bg-gray-400 p-8 shadow-sm space-y-6 rounded-lg">
        <div class="text-center">
          <h2 class="text-3xl font-bold text-gray-900">Crear Usuario</h2>
        </div>
        @for (field of fields; track $index) {
        <app-form-field 
          [label]="field.label" 
          [fieldId]="field.fieldId" 
          [type]="field.type"
          [placeholder]="field.placeholder" 
          [required]="field.required" 
          [errorMessage]="getErrorMessage(field.fieldId)"
          [formControlName]="field.fieldId">
        </app-form-field>
        }
        <button type="submit" [disabled]="!registerForm.valid"
          class="w-full bg-blue-600 text-white py-3.5 px-6 rounded-xl font-semibold text-base hover:bg-blue-700 focus:outline-none focus:ring-4 focus:ring-blue-100 transition-all duration-200 cursor-pointer disabled:bg-gray-200 disabled:text-gray-400 disabled:cursor-not-allowed disabled:hover:bg-gray-200">
          <span class="flex items-center justify-center gap-2">
            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6v6m0 0v6m0-6h6m-6 0H6" />
            </svg>
            Registrar
          </span>
        </button>
      </form>
    </div>
  </div>
</div>